<UserControl x:Class="TH_DevicePage.Controls.ProductionStatusPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:TH_DevicePage.Controls"
             
             xmlns:th_wpf="clr-namespace:TH_WPF;assembly=TH_WPF"
             xmlns:charting="clr-namespace:TH_WPF.Charting;assembly=TH_WPF"
             
             xmlns:histogram="clr-namespace:TH_WPF.Histogram;assembly=TH_WPF"

             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">

    <StackPanel x:Name="root">
       
        <!--Production Status Variable-->
        <local:CategoryPanel Title="Production Status Times" Background="Transparent">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>

                <!--Time Progress Bars-->
                <StackPanel>
                    <StackPanel.Resources>
                        <Style TargetType="th_wpf:TimeProgress">
                            <Setter Property="Foreground" Value="{StaticResource Foreground_Opposite_Normal}"/>
                            <Setter Property="BarBrush" Value="{StaticResource Foreground_Opposite_Normal}"/>
                            <Setter Property="BarBackgroundBrush" Value="{StaticResource Shade_Light}"/>
                            <Setter Property="BarHeight" Value="15"/>
                        </Style>
                    </StackPanel.Resources>

                    <th_wpf:TimeProgress Text="Full Production" Value=".6" Maximum="1"/>

                    <th_wpf:TimeProgress Text="Limited Production" Value=".1" Maximum="1"/>

                    <th_wpf:TimeProgress Text="Idle" Value=".25" Maximum="1"/>

                    <th_wpf:TimeProgress Text="Alert" Value=".05" Maximum="1"/>

                </StackPanel>

                <!--Pie Chart-->
                <charting:PieChart Grid.Column="1" ChartData="{Binding ChartData}" Width="150" Height="150"/>

            </Grid>
        </local:CategoryPanel>

        <histogram:Histogram x:Name="parts_timeline" Grid.Row="2" Margin="10">
            <histogram:Histogram.Style>
                <Style TargetType="histogram:Histogram">
                    <Setter Property="MaxBarWidth" Value="{Binding MaxBarWidth}"/>
                    <Setter Property="Foreground" Value="{StaticResource Foreground_Opposite_Normal}"/>
                    <Setter Property="BorderBrush" Value="{StaticResource Shade_Light}"/>
                    <Setter Property="Maximum" Value="100"/>
                    <Setter Property="Minimum" Value="0"/>
                    <Setter Property="MajorStep" Value="20"/>
                    <Setter Property="Height" Value="200"/>
                </Style>
            </histogram:Histogram.Style>
            <histogram:Histogram.Resources>
                <Style TargetType="histogram:Label">
                    <Setter Property="Foreground" Value="{Binding Foreground}"/>
                    <Setter Property="BorderBrush" Value="{StaticResource Shade_Light}"/>
                </Style>
                <Style TargetType="histogram:DataBar">
                    <Setter Property="Orientation" Value="Vertical"/>
                    <Setter Property="HorizontalAlignment" Value="Left"/>

                    <Setter Property="Maximum" Value="100"/>
                    <Setter Property="Width" Value="{Binding BarWidth, RelativeSource={RelativeSource Self}}"/>
                    <Setter Property="Margin" Value="2,0"/>


                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="BorderBrush" Value="#00000000"/>
                    <Setter Property="Background" Value="#00000000"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="ToolTipService.ShowDuration" Value="10000"/>
                    <Setter Property="ToolTipService.BetweenShowDelay" Value="3000"/>
                    <Setter Property="ToolTipService.InitialShowDelay" Value="1000"/>

                    <Setter Property="ToolTip" Value="{Binding ToolTipData}"/>

                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="true">
                            <Setter Property="Background" Value="#33ffffff"/>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="true">
                            <Setter Property="Background" Value="#33ffffff"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </histogram:Histogram.Resources>
            <histogram:Histogram.DataBars>
                <histogram:DataBar Value="50"/>
                <histogram:DataBar Value="80"/>
                <histogram:DataBar Value="75"/>
                <histogram:DataBar Value="25"/>
            </histogram:Histogram.DataBars>
        </histogram:Histogram>

    </StackPanel>

</UserControl>
